// In calculation.html
function goToLoadConditions() {
    // Ensure the latest buffered (or unbuffered) sums are in window.currentCustomSelection
    applyBufferToCustomSelection(); // <--- Call this here!

    const calculationData = {{ calculation_data_json|safe }};
    const processedSums = window.currentCustomSelection; 
    
    // ... rest of the function ...
}