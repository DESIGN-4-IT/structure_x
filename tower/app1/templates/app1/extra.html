function clearAllSelections() {
    selectedLoadCases.clear();
    updateSelectedLoadCases();

    // Uncheck all checkboxes in loadCasesResults
    loadCasesResults.querySelectorAll('input[type="checkbox"]').forEach(cb => {
        cb.checked = false;
    });
}

// Call clearAllSelections when switching tabs or after group creation
importedLoadCasesLink.addEventListener('click', function(e) {
    e.preventDefault();
    clearAllSelections();
    // existing fetch code...
});

groupLoadCasesLink.addEventListener('click', function(e) {
    e.preventDefault();
    clearAllSelections();
    // existing fetch code...
});

customGroupsLink.addEventListener('click', function(e) {
    e.preventDefault();
    clearAllSelections();
    // existing fetch code...
});

// Also call clearAllSelections after successful group creation
createCustomGroupBtn.addEventListener('click', function() {
    // existing code...
    fetch('/hupload1/', {
        // ...
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert(`Custom group "${groupName}" created successfully!`);
            customGroupNameInput.value = '';
            clearAllSelections();  // <-- clear selections and checkboxes
        } else {
            alert('Error creating custom group: ' + data.error);
        }
    })
    .catch(error => {
        alert('Error creating custom group: ' + error);
    });
});